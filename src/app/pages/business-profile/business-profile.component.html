<!-- <a  [routerLink]="['/']">back to search</a> -->

<div *ngIf="(user._id == businessId)">
    <a [routerLink]="['/business-profile', businessId, 'edit' ]">edit or delete your products</a>
</div>

<ul *ngIf="products">
  <li *ngFor="let product of products">
    <app-product-card [product]="product" [showProfileLink]="showProfileLink" [businessId]="businessId" [user]="user"></app-product-card>
    <div *ngIf="(user._id == businessId)">
        <a [routerLink]="['/business-profile', product._id, 'edit' ]">edit or delete this product</a>
    </div>
    <div *ngIf="(user.type !== 'business')">
      <button (click)="goToBooking(product._id)">Book</button>
    </div>
  </li>
</ul>

<div *ngIf="user">
  <div *ngIf="(user._id === businessId)">
    <button (click)="toggleForm()">Add a new product for rent</button>
      <div *ngIf="showSelected">
        <app-add-product-form [feedbackEnabled]="feedbackEnabled" [error]="error" [processing]="processing" (submitForm)="handleAddProductForm($event)"></app-add-product-form>
    </div>
  </div>
</div>
<button (click)="goBack()">Back</button>